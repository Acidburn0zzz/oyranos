Summary: Colour Management System
Name: oyranos
License: BSD
Group: Development/Libraries
URL: http://www.oyranos.org
Vendor: Kai-Uwe Behrmann
Packager: Kai-Uwe Behrmann <ku.b@gmx.de>
#BuildArch: %{_arch}
#%ifos linux
#Prereq: oyranos-LStarRGB oyranos-RGB oyranos-lcmsLAB oyranos-eci-offset2004
#%endif 
BuildRoot: %{_tmppath}/%{name}-root
Prefix:    %{_prefix}

%package      devel
Summary:   Headers, configuration and static libs + documentation
Group:     Development/System
Requires:  %{name}-%{version}-%{release}

%package      display
Summary:    Oyranos display dependent libraries
Group:      Development/Libraries
License: BSD/GPL

%package      panel
Summary:    Oyranos sample configuration panel
Group:      Productivity/Graphics/Other
License: BSD+LGPL

%description
Oyranos is a colour management system.
Features:
o configuration for cross application colour agreement 
o plugable and selectable modules (known as CMM's)
o pixel conversions
o profile handling
o named colours
o device profile assignment


Authors:
--------
    Oyranos     Kai-Uwe Behrmann <www.behrmann.name>

used components and libraries with divergine FOSS licenses:
    Elektra     Avi Alkalay and others
    md5         L. Peter Deutsch
    libXNVCtrl  Nvidia
    FLMM        Matthias Melcher
    lookup3     Bob Jenkins

%description devel
Oyranos is useable to store default profiles and paths and
query for profiles in that paths.
An internal device profile API allowes configuring of a 
profile in X.
The documentation in html format is included.

%description  display
The display support libraries of the
Oyranos colour management system.
The display profile configuration part.

%description  panel
Oyranos is a colour management system.
The sample configuration GUI.


%prep
%setup -q -n %{name}-%{version}

%build
%configure --enable-debug --enable-verbose

%install
rm -rf %{buildroot}
make
make DESTDIR=%{buildroot} install-main
rm -fr %{buildroot}/%{_datadir}/doc/%{name}

%clean
rm -rf %{buildroot}

%post

%postun


%files
%defattr(-, root, root)
%doc AUTHORS COPYING ChangeLog README
%{_bindir}/%{name}-config
%{_bindir}/%{name}-policy
%{_libdir}/lib%{name}.so*
%{_libdir}/lib%{name}_alpha.so*
%{_libdir}/color/cmms/lib%{name}_lcms_cmm_module.so*
%{_libdir}/color/cmms/lib%{name}_oyra_cmm_module.so*
%{_mandir}/man1/%{name}*
%{_mandir}/man3/%{name}.*
%{_datadir}/locale/*/LC_MESSAGES/%{name}.*
%{syscolordir}/%{settingsdirname}/*.policy.xml

%files devel
%defattr(-, root, root)
%doc AUTHORS COPYING ChangeLog README
%{_includedir}/%{name}/*.h
%{_libdir}/pkgconfig/*
%{_libdir}/*.a
%doc %{name}*.sh
%doc doc/html

%files display
%doc AUTHORS COPYING ChangeLog README
%{_bindir}/%{name}-moni*
%{_libdir}/lib%{name}_moni.so*
%{_libdir}/color/cmms/lib%{name}_oyX1_cmm_module.so*

%files panel
%doc AUTHORS COPYING ChangeLog README
%{_bindir}/%{name}-config-fl*


%changelog
* Fri Jan 25 2008 Kai-Uwe Behrmann
- remove old kdb and cmm registration stuff

* Sat Sep 16 2006 Kai-Uwe Behrmann
- set default policy if no settings are found

* Sat May 28 2005 - Kai-Uwe Behrmann
- packaging

* Tue Apr 21 2005 Kai-Uwe Behrmann
- first release


