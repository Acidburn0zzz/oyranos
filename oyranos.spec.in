Summary: Colour Management System
Name: oyranos
License: BSD
Group: Development/Libraries
URL: http://www.oyranos.org
Vendor: Kai-Uwe Behrmann
Packager: Kai-Uwe Behrmann <ku.b@gmx.de>
#BuildArch: %{_arch}
#%ifos linux
#Prereq: oyranos-LStarRGB oyranos-RGB oyranos-lcmsLAB oyranos-eci-offset2004
#%endif 
BuildRoot: %{_tmppath}/%{name}-root
Prefix:    %{_prefix}

%package      devel
Summary:   Headers, configuration and static libs + documentation
Group:     Development/System
Requires:  %{name}-%{version}-%{release}

%package      monitor
Summary:    Oyranos monitor dependent libraries
Group:      Development/Libraries

%package      monitor-nvidia
Summary:    Oyranos nvidia card support
Group:      Development/Libraries
License: GPL

%package      ui-fltk
Summary:    Oyranos sample configuration panel
Group:      Productivity/Graphics/Other

%description
Oyranos is a colour management system.
Features:
o configuration for cross application colour agreement 
o plugable and selectable modules (known as CMM's)
o pixel conversions
o profile handling
o named colours
o device profile assignment


Authors:
--------
    Oyranos     Kai-Uwe Behrmann <www.behrmann.name>

used components and libraries with divergine FOSS licenses:
    Elektra     Avi Alkalay and others
    md5         L. Peter Deutsch
    libXNVCtrl  Nvidia
    FLMM        Matthias Melcher
    lookup3     Bob Jenkins

%description devel
Oyranos is useable to store default profiles and paths and
query for profiles in that paths.
An internal device profile API allowes configuring of a 
profile in X.
The documentation in html format is included.
The object oriented Oyranos API's provide advanced access to
ICC profiles, allow for filtering profile lists and provide
a CMM independent colour conversion API. Single colour lookups 
are supported.
These API's are to be considered for changing very frequently.

%description  monitor
The monitor support libraries of the
Oyranos colour management system.
The monitor profile configuration part.

%description  monitor-nvidia
Display setup tool for the
Oyranos colour management system.
The nvidia EDID configuration part.

%description  ui-fltk
Oyranos is a colour management system.
The sample configuration GUI.


%prep
%setup -n %{name}-%{version}

%build
%configure --enable-debug

%install
rm -rf %{buildroot}
make
make DESTDIR=%{buildroot} install-main
rm -fr %{buildroot}/%{_datadir}/doc/%{name}

%clean
rm -rf %{buildroot}

%post

%postun


%files
%defattr(-, root, root)
%doc AUTHORS COPYING ChangeLog README
%{_bindir}/%{name}-config
%{_bindir}/%{name}-policy
%{_libdir}/lib%{name}.so*
%{_libdir}/color/cmms/lib%{name}_lcms_cmm_module.so*
%{_libdir}/color/cmms/lib%{name}_oyra_cmm_module.so*
%{_mandir}/man1/%{name}-config.1*
%{_mandir}/man1/%{name}-policy*
%{_mandir}/man3/%{name}.*
%{_datadir}/locale/*/LC_MESSAGES/%{name}.*
%{syscolordir}/%{settingsdirname}/*.policy.xml

%files devel
%defattr(-, root, root)
%doc AUTHORS COPYING ChangeLog README
%{_includedir}/%{name}/icc34.h
%{_includedir}/%{name}/%{name}.h
%{_includedir}/%{name}/%{name}_alpha.h
%{_includedir}/%{name}/%{name}_config.h
%{_includedir}/%{name}/%{name}_definitions.h
%{_includedir}/%{name}/%{name}_icc.h
%{_includedir}/%{name}/%{name}_monitor.h
%{_includedir}/%{name}/%{name}_version.h
%{_libdir}/pkgconfig/*
%{_libdir}/*.a
%doc %{name}*.sh
%doc doc/html

%files monitor
%doc AUTHORS COPYING ChangeLog README
%{_bindir}/%{name}-monitor
%{_libdir}/lib%{name}_moni.so*
%{_libdir}/color/cmms/lib%{name}_oyX1_cmm_module.so*
%{_mandir}/man1/%{name}-monitor*

%files monitor-nvidia
%doc AUTHORS COPYING ChangeLog README
%{_bindir}/%{name}-monitor-nvidia

%files ui-fltk
%doc AUTHORS COPYING ChangeLog README
%{_bindir}/%{name}-config-fl*
%{_mandir}/man1/%{name}-config-fltk.1*


%changelog
* Thu Oct 02 2008 Kai-Uwe Behrmann
- split display into monitor and monitor-nvidia
- rename panel to ui-fltk

* Fri Jan 25 2008 Kai-Uwe Behrmann
- remove old kdb and cmm registration stuff

* Sat Sep 16 2006 Kai-Uwe Behrmann
- set default policy if no settings are found

* Sat May 28 2005 - Kai-Uwe Behrmann
- packaging

* Tue Apr 21 2005 Kai-Uwe Behrmann
- first release


