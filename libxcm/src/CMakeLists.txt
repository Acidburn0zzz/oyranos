IF(${CMAKE_SYSTEM_NAME} MATCHES "Linux")
	SET( XCM_X11_CFILES
		Xcm.c
		XcmDDC.c
		XcmDummy.c
		XcmEvents.c
	   )
ENDIF()

SET( CFILES_OBJECT_CONFIG_PUBLIC
	XcmEdidParse.c
	${XCM_X11_CFILES}
   )
SET( CFILES_OBJECT_CONFIG_PUBLIC ${CFILES_OBJECT_CONFIG_PUBLIC} PARENT_SCOPE )
SET( CFILES_OBJECT_CONFIG
	${CFILES_OBJECT_CONFIG_PUBLIC}
   )


SET( SOURCES ${CFILES_OBJECT_CONFIG} )

SET( EXTRA_LIBS ${EXTRA_LIBS} ${XINERAMA_LIBRARIES} ${XRANDR_LIBRARIES}
                ${XMU_LIBRARIES}
                ${XFIXES_LIBRARIES} ${X11_LIBRARIES} )

INCLUDE_DIRECTORIES( ${CMAKE_SOURCE_DIR}/libxcm/include/X11/Xcm )

IF(APPLE)
ENDIF (APPLE)

ADD_LIBRARY( xcm-static STATIC ${SOURCES} )
TARGET_LINK_LIBRARIES (
   xcm-static
   ${EXTRA_LIBS} )
